---
import ClipboardJs from "./clipboard.astro"

interface Props {
	id: string,
	left: string,
}
const {id, left} = Astro.props

const id_formatted = "clipboard-" + id
const copy_formatted = "copy-" + id
const copied_formatted = "copied-" + id
---

<button class="copy-to-clipboard" id={id_formatted}>
	<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" id={copy_formatted}>
		<path d="M360-240q-33 0-56.5-23.5T280-320v-480q0-33 23.5-56.5T360-880h360q33 0 56.5 23.5T800-800v480q0 33-23.5 56.5T720-240H360Zm0-80h360v-480H360v480ZM200-80q-33 0-56.5-23.5T120-160v-560h80v560h440v80H200Zm160-240v-480 480Z"/>
	</svg>
	<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" id={copied_formatted}>
		<path d="M382-240 154-468l57-57 171 171 367-367 57 57-424 424Z"/>
	</svg>
</button>
<ClipboardJs id={id} id_formatted={id_formatted} copy_formatted={copy_formatted} copied_formatted={copied_formatted}/>

<style define:vars={{ left }}>
	svg {
		fill: var(--header-button-svg-color);

		&:last-of-type {
			display: none;
		}
	}
	button {
		display: flex;
		padding: 5px;
		border: 0;
		background-color: transparent;
		left: var(--left);
		margin-bottom: 5px;
		opacity: 0;
		position: absolute;

		&:hover > svg {
			fill: var(--header-button-svg-color-hover);
		}
	}
</style>